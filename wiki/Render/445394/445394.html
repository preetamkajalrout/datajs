<div class="wikidoc"><h1>Using Caches</h1>
The datajs cache API provides a very simple way of reading large paginated results into the browser in an efficient way that is very responsive to the needs of the user interface.<br /><br />The intent is to provide improved performance and resilience to intermittent network issues for pages that display a collection of data. The collection can be much larger than what might be loaded in memory. End users will often interact with only a subset of items at a time. Common ways are interacting one item at a time, in fixed-size pages that are individually selected, or in a continuous scrollable list.<br /><br />The API is appropriate for collections that aren&#39;t changing quickly, because the cache will not accept local modifications and will not contact the server for fresh data; instead the application can control when to do so by simply clearing the read-only contents. This allows improved performance by minimizing the number of rqeuests and the amount of data requested from the server. Resiliency is also improved by caching data in-memory or on-disk.<br /><br />The benefit to web developers is that this is all accomplished through a single API that behaves consistently regardless of the actual capabilities of the browser.<br /><br />For example, to read the first 10 items from a service, a page can include the following code.<br /><br /><div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">var</span> cache = datajs.createDataCache({
  name: <span style="color:#A31515;">&quot;sessions&quot;</span>, 
  source: <span style="color:#A31515;">&quot;http://live.visitmix.com/odata/Sessions&quot;</span>
});

<span style="color:Green;">// Read ten items from the start and use jQuery template to render them on the page.</span>
cache.readRange(0, 10).then(<span style="color:Blue;">function</span> (data) {
  $.tmpl($(<span style="color:#A31515;">&quot;#my-template&quot;</span>), data).appendTo(<span style="color:#A31515;">&quot;#somewhere&quot;</span>);
});

<span style="color:Green;">// Add a handler to a button named &#39;remove-data&#39; to remove the data the cache has.</span>
$(<span style="color:#A31515;">&quot;#remove-data&quot;</span>).click(<span style="color:Blue;">function</span>() {
  cache.clear().then(<span style="color:Blue;">function</span>() { alert(<span style="color:#A31515;">&quot;bye-bye data&quot;</span>); });
});

<span style="color:Green;">// Add a handler to a button named &#39;refresh-button&#39; to refresh all the data.</span>
$(<span style="color:#A31515;">&quot;#refresh-button&quot;</span>).click(<span style="color:Blue;">function</span>() {
  cache.clear().then(<span style="color:Blue;">function</span>() {
    <span style="color:Green;">// Go re-read the data from the cache, and it will be fresh.</span>
    <span style="color:Green;">// ...</span>
  }); 
});
</pre></div><br />See also the <a href="https://datajs.codeplex.com/wikipage?title=datajs%20cache%20API&referringTitle=Using%20Caches">datajs cache API</a> reference.
<hr />
Previous Topic: <a href="https://datajs.codeplex.com/wikipage?title=Using%20Stores&referringTitle=Using%20Caches">Using Stores</a><br />Next Topic: <a href="https://datajs.codeplex.com/wikipage?title=Cache%20Prefetching&referringTitle=Using%20Caches">Cache Prefetching</a></div><div class="ClearBoth"></div>