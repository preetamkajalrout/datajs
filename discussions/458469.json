[
  {
    "Id": "1096625",
    "ThreadId": "458469",
    "Html": "I am new to datajs and WCF Data Service , My GET operation is working perfecting , though POST is not working in anyway , I have tried all the techniques mentioned in various threads but of no help.\r<br />\nThe biggest disappointment is there is no working example or demo project which we can use and see if we are missing on something.\r<br />\n<br />\nWhatever way I try I am not able to call my method and keeps on giving me errors like \r<br />\n<br />\n1) MLHttpRequest cannot load &quot;my service url&quot; Request header field MaxDataServiceVersion is not allowed by Access-Control-Allow-Headers. \r<br />\n2) Method not implimented\r<br />\n3) HTTP request failed\r<br />\n<br />\nBelow is how my WCF Data Service POST Operation Looks like , (just a test method)\r<br />\n<br />\n  [WebInvoke(UriTemplate = &quot;UpdateList&quot;, RequestFormat = WebMessageFormat.Json,<br />\n<pre><code>     ResponseFormat = WebMessageFormat.Json, BodyStyle = WebMessageBodyStyle.WrappedRequest,Method=&quot;POST&quot;)]\n    public string UpdateList(string formatedString)\n    {\n        // will add logic later once will be able to hit the breakpoints from dataJS\n        return string.Empty;\n    }\n</code></pre>\n\n<strong>JS Code</strong> (tried with various ways)\r<br />\n<strong>Option 1:</strong>\r<br />\n var oHeaders = {};<br />\n<pre><code>     var request = {\n        headers: oHeaders, // object that contains HTTP headers as name value pairs \n        requestUri: &quot;http://localhost:51913/List.svc/UpdateList&quot;, // OData endpoint URI \n        method: &quot;POST&quot;, // HTTP method (GET, POST, PUT, DELETE) \n        data: jsonString // Payload of the request (in intermediate format) \n    };\n\n\n    OData.request(request,\nfunction success(data) {\n    alert(&quot;inside success&quot;);\n    // do something with data  \n},\nfunction error(err) {\n    alert(err.message);\n    // do something with the error \n},\n{\n    accept: OData.defaultHandler.accept,\n    maxDataServiceVersion: OData.defaultHandler.maxDataServiceVersion,\n    read: OData.defaultHandler.read,\n    write: function (request) {\n        alert(&quot;inside write&quot;);\n        debugger;\n        // set the appropriate headers to the request.\n        request.headers = {\n            &quot;Content-Type&quot;: &quot;application/json&quot;,\n            &quot;DataServiceVersion&quot;: &quot;2.0&quot;\n        };\n\n        // data is assumed to be a JSON string, so just pass it through\n        request.body = request.data;\n    }\n}</code></pre>\n\n);\r<br />\n<br />\n<strong>Option 2:</strong>\r<br />\nvar oHeaders = {};<br />\n<pre><code>     var request = {\n        headers: oHeaders, // object that contains HTTP headers as name value pairs \n        requestUri: &quot;http://localhost:51913/List.svc/UpdateList&quot;, // OData endpoint URI \n        method: &quot;POST&quot;, // HTTP method (GET, POST, PUT, DELETE) \n        data: jsonString // Payload of the request (in intermediate format) \n    };\n</code></pre>\n\noHeaders[&quot;x-http-method&quot;] = &quot;MERGE&quot;;<br />\n<pre><code>    oHeaders['DataServiceVersion'] = &quot;2.0&quot;;\n\n\n    OData.defaultHandler = OData.atomHandler;\n    OData.defaultHttpClient.enableJsonpCallback = true;\n    OData.jsonHandler.recognizeDates = true;\n\n    OData.request(request, \n    function (data, response) {\n    debugger;\n    }, \n    function(err){\n        debugger;\n    alert(err);\n    },\n    OData.metadataHandler);\n\n            OData.defaultHandler = OData.atomHandler;\n            OData.request(\n      {\n          headers: { &quot;Content-Type&quot;: &quot;application/atom+xml&quot; },\n          requestUri: &quot;http://localhost:51913/List.svc/UpdateList&quot;,\n          method: &quot;POST&quot;,\n          data: jsonString\n\n\n      },\n      function (insertedItem) {\n          debugger;\n          alert(&quot;inside if&quot;);\n          // $(&quot;&lt;div&gt;inserted customer ID: &quot; + insertedItem.ID + &quot;&lt;/div&gt;&quot;).appendTo($(&quot;#target-element-id&quot;));\n      },\n       function (err) {\n           alert(err.message);\n           console.log(&quot;Error occurred &quot; + err.message);\n           //  console.log(err);\n       }\n    );\n</code></pre>\n\nPlease I require urgent help on this , if please can somebody explain this with a proper working example.\r<br />\n<br />\nThanks in advance.<br />\n",
    "PostedDate": "2013-09-19T12:42:26.03-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]